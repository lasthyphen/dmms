(()=>{var Lt={2697:(a,f,r)=>{"use strict";r.d(f,{Q:()=>s});class s{constructor(){this.callbacks={}}on(c,l){var u;return this.callbacks[c]=[...(u=this.callbacks[c])!=null?u:[],l],this}once(c,l){const u=(...h)=>{this.off(c,u),l.apply(this,h)};return this.on(c,u),this}off(c,l){var u;const g=((u=this.callbacks[c])!=null?u:[]).filter(v=>v!==l);return this.callbacks[c]=g,this}emit(c,...l){var u;return((u=this.callbacks[c])!=null?u:[]).forEach(g=>{g.apply(this,l)}),this}removeListeners(){this.callbacks={}}}},8165:(a,f,r)=>{"use strict";r.d(f,{y:()=>c});var s=r(1955);function o(l){l=typeof l=="string"?new URL(l):l;const h=l.hostname.split("."),g=h[h.length-1],v=[];if(h.length===4&&g===String(parseInt(g,10))||h.length<=1)return v;for(let y=h.length-2;y>=0;--y)v.push(h.slice(y).join("."));return v}function c(l){const u=o(l);for(let h=0;h<u.length;++h){const g="__tld__",v=u[h],y={domain:"."+v};if(s.Z.set(g,"1",y),s.Z.get(g))return s.Z.remove(g,y),v}}},8187:(a,f,r)=>{"use strict";r.d(f,{E:()=>S});var s=r(1955),o=r(8165);let c;try{c=(0,o.y)(new URL(window.location.href))}catch(A){c=void 0}const u={expires:365,domain:c,path:"/",sameSite:"lax"};function h(){var A,T,O,P;return(P=(O=(T=(A=window.localStorage.getItem("ko_id"))!=null?A:s.Z.get("ko_id"))!=null?T:window.localStorage.getItem("kl:id"))!=null?O:s.Z.get("kl:id"))!=null?P:void 0}function g(A){return s.Z.set("ko_id",A,u),window.localStorage.setItem("ko_id",A)}function v(){return y().email}function y(){var A;return JSON.parse((A=window.localStorage.getItem("kl:traits"))!=null?A:"{}")}function w(A){const O={...y(),...A};return window.localStorage.setItem("kl:traits",JSON.stringify(O)),O}function x(){return{id:h(),traits:y()}}const S={id:h,traits:y,upsertTraits:w,userInfo:x,setId:g,email:v}},3098:(a,f,r)=>{"use strict";r.d(f,{U:()=>o,Q:()=>c});var s=r(7940);async function o(l,u){let h=`/web/projects/${l}`;return u&&(h+=`?profile_id=${u}`),(0,s.rd)(h)}async function c(l){return(0,s.rd)(`/web/projects/${l}/availability`)}},7940:(a,f,r)=>{"use strict";r.d(f,{_n:()=>c,v_:()=>l,rd:()=>u,Zv:()=>v});const s="https://api.getkoala.com";function o(){var y;return typeof globalThis!="undefined"&&globalThis.koalaSettings&&((y=globalThis.koalaSettings)==null?void 0:y.host)||s}const c=o();function l(y,w){return fetch(`${c}${y}`,{method:"POST",body:typeof w=="string"?w:JSON.stringify(w),keepalive:!0,headers:{"Content-Type":"application/json"}})}function u(y){return fetch(`${c}${y}`).then(w=>{if(!w.ok)throw new Error(`${w.status} ${w.statusText}`);return w.json()})}const h=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);function g(y,w){if(h)try{return h(`${c}${y}`,w)}catch(x){}return!1}function v(y,w){const x=JSON.stringify(w);return g(y,x)||l(y,x).then(()=>!0).catch(()=>!1)}},9935:(a,f,r)=>{"use strict";r.d(f,{load:()=>sn,mountWidget:()=>Ht});function s(n,e,t,i,d){var p,b=d&&d+t;if(i==null)e&&(n[d]=i);else if(typeof i!="object")n[d]=i;else if(Array.isArray(i))for(p=0;p<i.length;p++)s(n,e,t,i[p],b+p);else for(p in i)s(n,e,t,i[p],b+p)}function o(n,e,t){var i={};return typeof n=="object"&&s(i,!!t,e||".",n,""),i}function c(){return c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},c.apply(this,arguments)}function l(n,e){if(!!n){if(typeof n=="string")return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}}function u(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function h(n,e){var t=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=l(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=32,v=function(){function n(t,i){this.size=void 0,this.field=void 0,this.size=t,this.field=i,this.size=t,this.field=i||[];var d=Math.floor((t-1)/g+1);if(!i)for(var p=0,b=d-1,E=0<=b;E?p<=b:p>=b;E?p++:p--)this.field[p]=0}var e=n.prototype;return e.add=function(i){return this.set(i,1)},e.remove=function(i){return this.set(i,0)},e.set=function(i,d){if(i>=this.size)throw new Error("BitArray index out of bounds");var p=y(i),b=w(i);return d===1?this.field[p]=x(this.field[p]|b):(this.field[p]&b)!==0&&(this.field[p]=x(this.field[p]^b)),!0},e.get=function(i){if(i>=this.size)throw new Error("BitArray index out of bounds");var d=y(i),p=w(i);return x(this.field[d]&p)>0?1:0},n}();function y(n){return Math.floor(n/g)}function w(n){return x(1<<n%g)}function x(n){return n<0&&(n+=4294967295),n}function S(){for(var n,e=[],t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}var A=S(),T=function(e){var t=O(e),i=0,d=0;i=i^-1;for(var p=0,b=t.length;p<b;)d=(i^t[p])&255,i=i>>>8^A[d],p++;return i=i^-1,i<0&&(i+=4294967296),i},O=function(e){for(var t=[],i=0;i<e.length;)t.push(e.charCodeAt(i)),++i;return t},P=function(){function n(t){t===void 0&&(t={}),this.options=void 0,this.bits=void 0,this.options=t,this.options=c({size:100,hashes:4,seed:new Date().getTime()/1e3,bits:null},t),this.bits=new v(this.options.size,this.options.bits)}var e=n.prototype;return e.add=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];for(var b=0,E=d;b<E.length;b++)for(var M=E[b],B=0,K=Array.from(this.indexesFor(M));B<K.length;B++){var Q=K[B];this.bits.add(Q)}},e.test=function(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];for(var b=0,E=d;b<E.length;b++)for(var M=E[b],B=h(this.indexesFor(M)),K;!(K=B()).done;){var Q=K.value;if(this.bits.get(Q)===0)return!1}return!0},e.toHash=function(){return{size:this.options.size,hashes:this.options.hashes,seed:this.options.seed,bits:this.bits.field}},e.toJson=function(){return JSON.stringify(this.toHash())},e.indexesFor=function(i){for(var d=[],p=0,b=this.options.hashes-1,E=0<=b;E?p<=b:p>=b;E?p++:p--)d.push(T(i+":"+(p+this.options.seed))%this.options.size);return d},n}(),F=Number.MAX_SAFE_INTEGER-1;function N(n,e){for(var t=new Array(n),i=0;i<n;i++)t[i]=new Uint32Array(e);return t}function U(n){return n.map(function(e){return Uint32Array.from(e)})}function _(n){return n.map(function(e){return Array.from(e)})}function R(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=Math.random()*(F+1);return e}var J={size:100,hashes:4},H=function(){function n(t){t===void 0&&(t={}),this.options=void 0,this.k=void 0,this.m=void 0,this.data=void 0,this.seeds=void 0,this.options=Object.assign({},J,t),this.k=this.options.hashes,this.m=this.options.size,this.data=this.options.data?U(this.options.data):N(this.k,this.m),this.seeds=this.options.seeds||R(this.k)}var e=n.prototype;return e.count=function(i){return this.add(i,0)},e.add=function(i,d){var p=this;d===void 0&&(d=1);var b=1/0;return this.seeds.forEach(function(E,M){var B=T(i+":"+(E+M)),K=B%p.m,Q=p.data[M][K]+=d;Q<b&&(b=Q)}),b},e.setCount=function(i,d){this.add(i,d-this.count(i))},e.toHash=function(){return Object.assign({},this.options,{data:_(this.data),seeds:this.seeds})},e.toJSON=function(){return JSON.stringify(this.toHash())},n}();const G=n=>n.replace(/\.(\d+)/g,".[]");function C(n){return typeof n!="object"?!1:!!(n!=null&&n.hasOwnProperty("event"))}function m(n){return typeof n!="object"?!1:!!(n!=null&&n.hasOwnProperty("page")&&n.page.path)}function L(n,e,t){t===void 0&&(t=1),n.counts.add(e.toLowerCase(),t)}function W(n,e,t){n.counts.setCount(e.toLowerCase(),t)}function k(n,e){n.bloom.add(e.toLowerCase())}function I(n,e,t){const i=G(e);return typeof t=="number"?(W(n,i+":"+t,t),W(n,i,t)):(k(n,i+":"+t),k(n,i)),n}function $(n,e){if(Array.isArray(e)){e.forEach(i=>{$(n,i)});return}if(C(e)){var t;L(n,"events."+e.event),Object.entries(o((t=e.properties)!=null?t:{})).forEach(d=>{let[p,b]=d;I(n,p,b)});return}if(m(e)){L(n,"page_views."+e.page.path);return}if(typeof e=="object"){Object.entries(o(e)).forEach(d=>{let[p,b]=d;I(n,p,b)});return}}function Z(n){var e,t,i;const d=new CountMinSketch,p=new JsBloom({size:1e4}),b={counts:d,bloom:p};return(e=n.events)==null||e.forEach(E=>{$(b,E)}),(t=n.pageViews)==null||t.map(E=>{$(b,E)}),$(b,(i=n.traits)!=null?i:{}),$(b,{account_score:n.accountScore}),$(b,{company:n.firmographics}),$(b,{person:n.person}),b}function D(n,e){return{is:t=>n.is(e,t),exists:()=>n.has(e),includesItem:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includes(e,i)},includesAnyOf:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includesAnyOf(e,i)},not:{is:t=>!n.is(e,t),includesItem:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return!n.includes(e,i)},includesAnyOf:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return!n.includesAnyOf(e,i)}}}}function Y(n,e){return{exists:()=>n.has(e),is:t=>n.is(e,t),greaterThan:t=>n.greaterThan(e,t),greaterThanOrEqual:t=>n.greaterThanOrEqual(e,t),lessThan:t=>n.lessThan(e,t),lessThanOrEqual:t=>n.lessThanOrEqual(e,t),not:{is:t=>!n.is(e,t),greaterThan:t=>!n.greaterThan(e,t),greaterThanOrEqual:t=>!n.greaterThanOrEqual(e,t),lessThan:t=>!n.lessThan(e,t),lessThanOrEqual:t=>!n.lessThanOrEqual(e,t)}}}function z(n,e){const t=e.toLowerCase();return!!(n.bloom.test(t)||n.counts.count(t))}function nt(n,e,t){return n.counts.count(e.toLowerCase())>t}function ot(n,e,t){return n.counts.count(e.toLowerCase())>=t}function pt(n,e,t){return n.counts.count(e.toLowerCase())<t}function gt(n,e,t){return n.counts.count(e.toLowerCase())<=t}function tt(n,e,t){return t===void 0?z(n,e):typeof t=="object"?et(n,e,t):typeof t=="number"?n.counts.count(e.toLowerCase())===t:n.bloom.test((e+":"+t).toLowerCase())}function et(n,e,t){const i=o(t);return Object.keys(i).every(p=>tt(n,e+"."+p,t[p]))}function mt(n,e,t){return tt(n,e,t)||tt(n,e+".[]",t)}function zt(n,e,t){return t.some(i=>mt(n,e,i))}function Kt(n,e,t){return t.every(i=>mt(n,e,i))}class at{constructor(e){this.profile=void 0,this.profile=e,this.profile=e}has(e){return z(this.profile,e)}greaterThan(e,t){return nt(this.profile,e,t)}greaterThanOrEqual(e,t){return ot(this.profile,e,t)}lessThan(e,t){return pt(this.profile,e,t)}lessThanOrEqual(e,t){return gt(this.profile,e,t)}is(e,t){return tt(this.profile,e,t)}matchesObject(e,t){return et(this.profile,e,t)}includes(e,t){return mt(this.profile,e,t)}includesAnyOf(e,t){return zt(this.profile,e,t)}includesAllOf(e,t){return Kt(this.profile,e,t)}get not(){return{has:e=>!this.has(e),greaterThan:(e,t)=>!this.greaterThan(e,t),greaterThanOrEqual:(e,t)=>!this.greaterThanOrEqual(e,t),lessThan:(e,t)=>!this.lessThan(e,t),lessThanOrEqual:(e,t)=>!this.lessThanOrEqual(e,t),is:(e,t)=>!this.is(e,t),matchesObject:(e,t)=>!this.matchesObject(e,t),includes:(e,t)=>!this.includes(e,t),includesAnyOf:(e,t)=>!this.includesAnyOf(e,t),includesAllOf:(e,t)=>!this.includesAllOf(e,t)}}}function V(n,e){return{exists:()=>n.has(e),is:t=>n.is(e,t),includesItem:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includes(e,i)},includesAnyOf:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includesAnyOf(e,i)}}}function vt(n,e){return{includesItem:t=>n.includes(e,t),includesAnyOf:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includesAnyOf(e,i)},includesAllOf:function(){for(var t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return n.includesAllOf(e,i)}}}function rt(n,e){return{exists:()=>n.has(e),is:t=>n.is(e,t),greaterThan:t=>n.greaterThan(e,t),greaterThanOrEqual:t=>n.greaterThanOrEqual(e,t),lessThan:t=>n.lessThan(e,t),lessThanOrEqual:t=>n.lessThanOrEqual(e,t)}}class Jt{constructor(e){this.traits=void 0,this.traits=new at(e)}get name(){return V(this.traits,"company.name")}get domain(){return V(this.traits,"company.domain")}get sector(){return V(this.traits,"company.category.sector")}get type(){return V(this.traits,"company.type")}get industryGroup(){return V(this.traits,"company.category.industryGroup")}get industry(){return V(this.traits,"company.category.industry")}get subIndustry(){return V(this.traits,"company.category.subIndustry")}get foundedYear(){return rt(this.traits,"company.foundedYear")}get timezone(){return V(this.traits,"company.timezone")}get city(){return V(this.traits,"company.geo.city")}get state(){return V(this.traits,"company.geo.state")}get stateCode(){return V(this.traits,"company.geo.stateCode")}get country(){return V(this.traits,"company.geo.country")}get countryCode(){return V(this.traits,"company.geo.countryCode")}get employeeCount(){return rt(this.traits,"company.metrics.employees")}get employeesRange(){return V(this.traits,"company.metrics.employeesRange")}get marketCap(){return rt(this.traits,"company.metrics.marketCap")}get amountRaised(){return rt(this.traits,"company.metrics.raised")}get annualRevenue(){return rt(this.traits,"company.metrics.annualRevenue")}get estimatedAnnualRevenue(){return V(this.traits,"company.metrics.estimatedAnnualRevenue")}get tech(){return vt(this.traits,"company.tech")}get techCategories(){return vt(this.traits,"company.techCategories")}get tags(){return vt(this.traits,"company.tags")}isB2B(){return this.tags.includesItem("B2B")}isB2C(){return this.tags.includesItem("B2C")}isEnterprise(){return this.tags.includesItem("Enterprise")}isEcommerce(){return this.tags.includesItem("E-commerce")}isSaas(){return this.tags.includesItem("SAAS")}}function Rt(n,e,t){return t===void 0&&(t=1),Ct(n,t,e)}function Yt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.some(d=>Rt(n,d))}function Ct(n,e,t){return n.counts.count(("events."+t).toLowerCase())>=e}class Vt{constructor(e){this.profile=void 0,this.profile=e}performed(e,t){return t===void 0&&(t=1),Rt(this.profile,e,t)}performedAnyOf(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Yt(this.profile,...t)}performedAtLeast(e,t){return Ct(this.profile,e,t)}get not(){var e=this;return{performed:function(t,i){return i===void 0&&(i=1),!e.performed(t,i)},performedAnyOf:function(){return!e.performedAnyOf(...arguments)},performedAtLeast:(t,i)=>!this.performedAtLeast(t,i)}}}function Qt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.every(Boolean)}async function Zt(n,e,t){return new Promise(async(i,d)=>{if(await n()){e==null||e(),i();return}const p=()=>setTimeout(async()=>{await n()?(e==null||e(),i()):p()},t);p()})}function Pt(n,e,t){return t===void 0&&(t=1),n.counts.count(("page_views."+e).toLowerCase())>=t}const Xt=Pt;function qt(n,e){return window.location.pathname.toLowerCase()===e.toLowerCase()}class te{constructor(e){this.profile=void 0,this.profile=e,this.profile=e}seen(e,t){return t===void 0&&(t=1),Pt(this.profile,e,t)}viewed(e){return Xt(this.profile,e)}viewing(e){return qt(this.profile,e)}get not(){var e=this;return{seen:function(t,i){return i===void 0&&(i=1),!e.seen(t,i)},viewed:t=>!this.viewed(t),viewing:t=>!this.viewing(t)}}}class ee{constructor(e){this.traits=void 0,this.traits=new at(e)}get timezone(){return D(this.traits,"person.timezone")}get city(){return D(this.traits,"person.geo.city")}get state(){return D(this.traits,"person.geo.state")}get stateCode(){return D(this.traits,"person.geo.stateCode")}get country(){return D(this.traits,"person.geo.country")}get countryCode(){return D(this.traits,"person.geo.countryCode")}get company(){return D(this.traits,"person.employment.name")}get title(){return D(this.traits,"person.employment.title")}get role(){return D(this.traits,"person.employment.role")}get subRole(){return D(this.traits,"person.employment.subRole")}get seniority(){return D(this.traits,"person.employment.seniority")}}class ne{constructor(e,t){this.traits=void 0,this.prefix="",this.traits=new at(e),this.prefix=t}get fitGrade(){return Y(this.traits,this.prefix+".fit_grade")}get fitGradeLetter(){return D(this.traits,this.prefix+".fit_grade_letter")}}function re(n,e){$(n,e)}function It(n){const e=new P(n.b),i={counts:new H(n.c),bloom:e};return{traits:new at(i),events:new Vt(i),page:new te(i),company:new Jt(i),person:new ee(i),scores:{account:new ne(i,"account_score")},inSegment:Qt,when:Zt,raw:i,index:d=>re(i,d)}}function an(n){return Z(n)}function ie(n){return n.startsWith("?")&&(n=n.substring(1)),n=n.replace(/\?/g,"&"),n.split("&").reduce((e,t)=>{const[i,d=""]=t.split("=");if(i.includes("utm_")&&i.length>4){let p=i.substring(4);p==="campaign"&&(p="name"),e[p]=decodeURIComponent(d.replace(/\+/g," "))}return e},{})}function yt(){return{path:window.location.pathname,referrer:document.referrer,title:document.title,url:window.location.href,host:window.location.host,utm:ie(window.location.search)}}var ct=r(1955),jt=r(8165);let wt;try{wt=(0,jt.y)(new URL(window.location.href))}catch(n){wt=void 0}const se=30*60*1e3,Ft=24*60*60*1e3,_t={expires:Ft,domain:wt,path:"/",sameSite:"lax"};function Dt(){var n,e,t;const i=(t=(e=(n=window.localStorage.getItem("ko_sid"))!=null?n:ct.Z.get("ko_sid"))!=null?e:window.localStorage.getItem("kl:sid"))!=null?t:ct.Z.get("kl:sid");return i?JSON.parse(i):void 0}function Mt(){const n=new Date().getTime(),e={id:n.toString(),lastTouched:n};return ct.Z.set("ko_sid",JSON.stringify(e),_t),window.localStorage.setItem("ko_sid",JSON.stringify(e)),e}function oe(n){const e=new Date().getTime(),t=parseInt(n,10);return e-t>Ft}function ae(n){return new Date().getTime()-n.lastTouched<se}function ce(n){const e={id:n.id,lastTouched:new Date().getTime()};return ct.Z.set("ko_sid",JSON.stringify(e),_t),window.localStorage.setItem("ko_sid",JSON.stringify(e)),e}function Wt(){const n=Dt();return n&&ae(n)&&!oe(n.id)?ce(n):Mt()}function ue(){return Wt()}function le(){return Mt()}const bt={init:ue,fetch:Wt,reset:le,sessionId:Dt};function de(){const n=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(n)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(n)?"mobile":"desktop"}function he(){try{return yt()}catch(n){return}}function it(n){var e,t,i;const d=n==="page"?void 0:he(),p=window.ko;return{page:d,userAgent:window.navigator.userAgent,platform:{name:window.navigator.platform,deviceType:de()},playbooks:{id:(e=p==null?void 0:p.activePlaybook)==null?void 0:e.id,matchingPlaybooks:(t=p==null?void 0:p.matchingPlaybooks)==null?void 0:t.map(E=>E.id)},user:(i=p==null?void 0:p.user)==null?void 0:i.userInfo(),library:{name:"koala",version:p==null?void 0:p.version},session:bt.fetch(),locale:navigator.language,referrer:document.referrer,campaign:d==null?void 0:d.utm}}var st=r(7940);async function fe(n,e){return(0,st.v_)(n,e).then(t=>{if(!t.ok)throw new Error(`${t.status} ${t.statusText}`);const i=t.headers.get("content-type");return(i==null?void 0:i.includes("application/json"))?t.json():t.text()})}async function pe(n,e){if(!e.user.id)throw new Error("missing profile id");const t=await fe(`/web/projects/${n}/profiles`,{profile_id:e.user.id,email:e.email,traits:e.traits});return{...t,qualification:t.q}}function ge(n,e,t){var i;return(0,st.Zv)(`/web/projects/${n}/batch`,{context:{...it("identify"),source:(i=t==null?void 0:t.source)!=null?i:"identify"},profile_id:e.user.id,email:e.email,traits:e.traits})}function me(n,e,{events:t=[],identifies:i=[]}){if(!(t.length===0&&i.length===0))return(0,st.Zv)(`/web/projects/${n}/batch`,{profile_id:e,events:t,identifies:i})}function ve(n,e,t=[]){if(t.length!==0)return(0,st.Zv)(`/web/projects/${n}/batch`,{profile_id:e,page_views:t})}var ye=r(9635);function we(n,e){return n.subscriptions.create("ProfileChannel",{isConnected:!1,initialized(){this.update=this.update.bind(this)},connected(){this.isConnected=!0,this.install(),this.update()},disconnected(){this.isConnected=!1,this.uninstall()},rejected(){this.isConnected=!1,this.uninstall()},appear(){!this.isConnected||this.perform("appear")},away(){!this.isConnected||this.perform("away")},update(){document.visibilityState==="visible"&&document.hasFocus()?this.appear():this.away()},install(){window.addEventListener("focus",this.update),window.addEventListener("blur",this.update),document.addEventListener("visibilitychange",this.update)},uninstall(){window.removeEventListener("focus",this.update),window.removeEventListener("blur",this.update),document.removeEventListener("visibilitychange",this.update)},received:e})}const be="1.2.0";var At=r(2998);function Nt(n,e){try{return n=new URL(n,window.location.origin),e=new URL(e||window.location.href,window.location.origin),n.hostname===e.hostname&&n.pathname===e.pathname}catch(t){return!1}}var xt=r(4221),ut=r(2697);let Ae=n=>crypto.getRandomValues(new Uint8Array(n)),xe=(n,e,t)=>{let i=(2<<Math.log(n.length-1)/Math.LN2)-1,d=-~(1.6*i*e/n.length);return(p=e)=>{let b="";for(;;){let E=t(d),M=d;for(;M--;)if(b+=n[E[M]&i]||"",b.length===p)return b}}},cn=(n,e=21)=>xe(n,e,Ae),Tt=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var Te=r(3493),kt=r.n(Te);function Se(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}class Bt extends ut.Q{constructor(e={}){super();this.flushed=[],this.queue=new Set,this.flushing=!1;var t;e.onSend&&(this.onSend=e.onSend),this.scheduleSend=kt()(this.send,(t=e.flushInterval)!=null?t:3e4,{leading:!1,trailing:!0})}add(e){this.queue.add(e),this.scheduleSend()}flush(){this.scheduleSend.flush()}get all(){return this.flushed.concat(Array.from(this.queue))}onSend(e){return!0}send(e=!1){if(this.flushing&&!e){setTimeout(()=>this.scheduleSend(),0);return}try{if(this.flushing=!0,this.queue.size){const t=Array.from(this.queue),i=this.onSend(t),d=p=>{p!==!1&&(this.flushed.push(...t),this.queue.clear(),this.emit("processed",t))};Se(i)?i.then(d).finally(()=>{this.flushing=!1}):d(i)}}finally{this.flushing=!1}}}var X=r(8187);class Ee extends Bt{constructor(e={},t){super(e);this.events=[],this.projectSlug=t}track(e,t={}){const i={context:it("event"),message_id:Tt(),type:"track",event:e,properties:t,sent_at:new Date().toISOString()};this.events.push(i),this.add(i)}identify(e={},t){var i;const d={context:{...it("identify"),source:(i=t==null?void 0:t.source)!=null?i:"identify"},type:"identify",traits:e,sent_at:new Date().toISOString()};this.events.push(d),this.add(d)}onSend(e=[]){const t=X.E.id(),i=this.projectSlug;if(!i||!t)return!1;const d=e.filter(b=>b.type==="track"),p=e.filter(b=>b.type==="identify");return me(i,t,{events:d,identifies:p})}}var un=r(9865);let St;const Le=["input[type='password']","input[name*='password']"].join(", "),Gt=["ccn","cvv","password","pin","secret","token","credit-card","creditcard"];function Oe(n){return!n||Object.keys(n).length===0}function Re(n,e){let t=n;for(;t&&!(e(t)||(t=t.parentElement,!t||t.tagName==="FORM")););return t}function lt(n){var e,t;return((e=n==null?void 0:n.innerText)==null?void 0:e.trim())||((t=n==null?void 0:n.textContent)==null?void 0:t.trim())}function Ce(n,e){let t;if(n.labels&&n.labels.length){const[i,...d]=Array.from(n.labels);t=lt(i)}if(!t){const i=[n.previousElementSibling,n.nextElementSibling].filter(d=>(d==null?void 0:d.tagName)==="LABEL"&&lt(d));i.length&&(t=lt(i[0]))}if(!t){const i=Re(n,d=>{const p=d.querySelectorAll("label").length>0,b=e.every(E=>E===n||!d.contains(E));return p&&b});i&&(t=lt(i.querySelector("label")))}return t}function Pe(n){const e=new FormData(n),t={},i=n.querySelectorAll(Le),d=Array.from(i).map(p=>p.name||p.id).filter(Boolean);for(const[p,b]of e.entries()){const E=p.toLowerCase();b&&!d.includes(p)&&!Gt.some(M=>E.includes(M))&&(t[p]=b)}return t}function Ie(n,e){const t=n.tagName.toLowerCase(),i=n.type,d=n.id?`#${n.id}`:"",p=n.className?`.${n.className}`:"";return`${t}_${e}_${[i,d,p].filter(Boolean).join("_")}`}function je(n){const e={},t=Array.from(n.elements);for(const i of t){if(!["INPUT","SELECT","TEXTAREA"].includes(i.tagName))continue;const d=i.name||i.id,p=d==null?void 0:d.toLowerCase();if(i.type==="password"||Gt.some(M=>p==null?void 0:p.includes(M))||["checkbox","radio"].includes(i.type)&&!i.checked)continue;const b=Ce(i,t),E=d||b||Ie(i,t.indexOf(i));e[E]=i.value}return e}function Fe(n){let e=Pe(n);return Oe(e)&&(e=je(n)),e}function _e(n){const e=document.createElement("input");return e.type="email",e.required=!0,e.value=String(n),e.checkValidity()}function De(n){return Object.entries(n).filter(([e,t])=>e.toLowerCase().includes("email")&&_e(t)).map(([e])=>e.toLowerCase())}const Me=["email","name","company"];function We(n){const e={},t=De(n),i=t.length===1;for(const[d,p]of Object.entries(n)){const b=d.toLowerCase();i&&t[0]===b?e.email=p:Me.includes(b)&&(e[d]=p)}return e}function Ne(n){St&&St();const e=async p=>{var b,E;const M=p instanceof HTMLFormElement,B=p.tagName,K=M||B==="FORM";if(p.getAttribute("data-koala-collect")==="off"||!K)return;const q=yt(),dt=Fe(p),Et=We(dt),ht=(E=(b=p.getAttribute("data-koala-selector"))!=null?b:p.getAttribute("id"))!=null?E:p.className;try{await n({context:{page:q,selector:ht},name:p.getAttribute("name")||p.id,method:p.method,action:p.action,formData:dt,traits:Et})}catch(ln){}},t=async p=>{try{const b=p.target;if(typeof b.requestSubmit=="function"){p.preventDefault(),p.stopPropagation(),await e(b);const E=b.querySelector("button[type=submit]"),M=p.currentTarget;setTimeout(()=>{E?b.requestSubmit(E):b.requestSubmit(),M==null||M.addEventListener("submit",t,{capture:!0,once:!0})},0)}else{await e(b);const E=p.currentTarget;E==null||E.addEventListener("submit",t,{capture:!0,once:!0})}}catch(b){}};document.addEventListener("submit",t,{capture:!0,once:!0});const i=document.querySelectorAll("iframe");i.forEach(p=>{const b=p.contentDocument;!b||(0,At.A)(()=>{b.addEventListener("submit",t,{capture:!0,once:!0})},b)});const d=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=async function(){try{await e(this)}catch(p){}d.call(this)},St=()=>{document.removeEventListener("submit",t,{capture:!0}),i.forEach(p=>{const b=p.contentDocument;!b||(0,At.A)(()=>{b.removeEventListener("submit",t,{capture:!0})},b)}),HTMLFormElement.prototype.submit=d}}function ke({project:n,...e}){return(0,st.Zv)(`/web/projects/${n}/metrics`,e)}class Be extends Bt{constructor(e={},t){super(e);this.projectSlug=t}increment(e,t){this.add({context:it("metric"),id:Tt(),name:e,properties:t,sent_at:new Date})}onSend(e=[]){const t=X.E.id(),i=this.projectSlug;return!i||!t?!1:ke({project:i,profile_id:t,metrics:e})}}function Ge(n){const{top:e,left:t,right:i,bottom:d}=n.getBoundingClientRect(),p=n.offsetWidth,b=n.offsetHeight;return e>=-b&&t>=-p&&i<=(window.innerWidth||document.documentElement.clientWidth)+p&&d<=(window.innerHeight||document.documentElement.clientHeight)+b}class $e extends ut.Q{constructor(e=15e3,t=1e3){super();this.isFocused=!1,this.checkIdleIntervalMs=1e3,this.restart=()=>{this.isFocused&&this.endFocus(),document.hidden||this.startFocus()},this.unload=()=>{window.clearTimeout(this.idleIntervalCheck),window.clearTimeout(this.idleMediaTimer),document.removeEventListener("visibilitychange",this.onVisibilityChangeWrapper),window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),window.removeEventListener("scroll",this.pulse,{capture:!0}),document.removeEventListener("mousedown",this.pulse),document.removeEventListener("mousemove",this.pulse),document.removeEventListener("touchstart",this.pulse),document.removeEventListener("touchmove",this.pulse),document.removeEventListener("keydown",this.pulse),document.removeEventListener("keyup",this.pulse),document.removeEventListener("click",this.pulse),document.removeEventListener("contextmenu",this.pulse),document.removeEventListener("play",this.pulse,{capture:!0})},this.startTrackers=()=>{document.addEventListener("visibilitychange",this.onVisibilityChangeWrapper),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),window.addEventListener("scroll",this.pulse,{capture:!0,passive:!0}),document.addEventListener("mousedown",this.pulse,{passive:!0}),document.addEventListener("mousemove",this.pulse,{passive:!0}),document.addEventListener("touchstart",this.pulse,{passive:!0}),document.addEventListener("touchmove",this.pulse,{passive:!0}),document.addEventListener("keydown",this.pulse,{passive:!0}),document.addEventListener("keyup",this.pulse,{passive:!0}),document.addEventListener("click",this.pulse,{passive:!0}),document.addEventListener("contextmenu",this.pulse,{passive:!0}),document.addEventListener("play",this.pulse,{capture:!0,passive:!0}),window.addEventListener("pagehide",this.unload),this.checkMedia(),this.checkIdleTime()},this.startFocus=()=>{const i=performance.now();this.isFocused=!0,this.focusStart=i,this.lastFocusStart=i,this.emit("focus_time.start",this.focusStart)},this.endFocus=()=>{this.pulse.cancel(),this.emit("focus_time.end",this.currentFocusTime),this.isFocused=!1},this.onVisibilityChangeWrapper=()=>this.onVisibilityChange(document.visibilityState),this.checkIdleTime=()=>{this.pulse.flush(),this.idleTime>=this.idleInterval&&this.endFocus(),this.idleIntervalCheck=window.setTimeout(()=>this.checkIdleTime(),this.checkIdleIntervalMs)},this.onBlur=()=>{this.isFocused&&this.endFocus()},this.onFocus=()=>{this.isFocused||this.startFocus()},this.onVisibilityChange=i=>{i==="visible"?this.onFocus():i==="hidden"&&this.onBlur()},this.pulse=kt()(()=>{this.isFocused?this.lastFocusStart=performance.now():this.startFocus()},500,{leading:!0,trailing:!0}),this.checkMedia=()=>{const i=document.querySelectorAll("video");Array.from(i).filter(p=>p.paused||p.loop||p.muted&&!p.controls||p.readyState<2?!1:Ge(p)).length>0&&document.visibilityState==="visible"&&this.pulse(),this.idleMediaTimer=window.setTimeout(()=>this.checkMedia(),this.checkIdleIntervalMs)},document.visibilityState==="visible"?this.startFocus():this.isFocused=!1,this.idleInterval=e!=null?e:15e3,this.checkIdleIntervalMs=t!=null?t:1e3,this.startTrackers()}get idleTime(){return this.isFocused&&typeof this.lastFocusStart=="number"?performance.now()-this.lastFocusStart:0}get currentFocusTime(){return this.isFocused&&typeof this.focusStart=="number"?performance.now()-this.focusStart:0}}const Ue=4*60*60*1e3;function He(n){const e=history.pushState;history.pushState=(...i)=>{e.apply(history,i),n.emit("page_tracker.push")};const t=history.replaceState;history.replaceState=(...i)=>{t.apply(history,i),n.emit("page_tracker.replace",...i)},window.addEventListener("popstate",()=>{n.emit("page_tracker.pop")})}function ze(){return{context:it("page"),message_id:Tt(),page:yt(),visit_start:new Date,focus_intervals:[]}}class Ke extends ut.Q{constructor(){super();this.pages=[],this.unloading=!1,this.allPages=()=>this.pages,this.onReplaceState=(e,t,i)=>{var d,p;const b=(p=(d=this.currentPage)==null?void 0:d.page)==null?void 0:p.url,E=i&&!Nt(i,b);(!b||E)&&this.collect()},this.onVisibilityChange=()=>{var e,t,i,d,p;if(document.visibilityState==="visible"){const b=bt.fetch(),E=(i=(t=(e=this.currentPage)==null?void 0:e.context)==null?void 0:t.session)==null?void 0:i.id,M=new Date().getTime(),B=(p=(d=this.currentPage)==null?void 0:d.visit_start)==null?void 0:p.getTime();E!==b.id?this.collect():(!B||Math.abs(M-B)>=Ue)&&this.collect()}},this.collect=()=>{this.endCurrentPage();const e=ze();this.pages.push(e),this.emit("page",e)},this.endCurrentPage=()=>{this.focusTimer.restart();const e=this.currentPage;e&&!e.visit_end&&(e.visit_end=new Date,this.emit("page",e))},this.unload=()=>{this.unloading=!0,this.endCurrentPage(),this.off("page_tracker.push",this.collect),this.off("page_tracker.replace",this.onReplaceState),this.off("page_tracker.pop",this.collect),document.removeEventListener("visibilitychange",this.onVisibilityChange),this.focusTimer.off("focus_time.end",this.recordFocusTime),this.unloading=!1},this.recordFocusTime=e=>{const t=this.currentPage;t&&e&&(t.focus_intervals.push(e),this.emit("new_focus_time"),!this.unloading&&t.focus_intervals.length%3==0&&this.emit("page",t))},this.focusTimer=new $e,this.focusTimer.on("focus_time.end",this.recordFocusTime),He(this),this.on("page_tracker.push",this.collect),this.on("page_tracker.replace",this.onReplaceState),this.on("page_tracker.pop",this.collect),document.addEventListener("visibilitychange",this.onVisibilityChange),setTimeout(()=>{this.collect(),window.addEventListener("pagehide",this.unload)},0)}get currentPage(){return this.pages[this.pages.length-1]}get currentFocusTime(){var e,t;return this.focusTimer.currentFocusTime+((t=(e=this.currentPage)==null?void 0:e.focus_intervals.reduce((i,d)=>i+d,0))!=null?t:0)}get currentIdleTime(){var e;return(e=this.focusTimer.idleTime)!=null?e:0}get sessionFocusTime(){return this.focusTimer.currentFocusTime+this.pages.reduce((e,t)=>e+t.focus_intervals.reduce((i,d)=>i+d,0),0)}}var Je=r(359),$t=r.n(Je);async function Ye(n,e){if(!!n)return new Promise((t,i)=>{const d=setTimeout(()=>{t(void 0)},e);n.then(p=>{clearTimeout(d),t(p)}).catch(p=>{clearTimeout(d),i(p)})})}let Ut=window.location.hostname;try{Ut=(0,jt.y)(new URL(window.location.href))||window.location.hostname}catch(n){}class Ve extends ut.Q{constructor(e){super();this.version=be,this.initialized=!1,this.subscription=null,this.collectForms=()=>{const b=[Ut,"hsforms.com"];Ne(async E=>{var M,B;let K=!E.action;if(E.action){const Q=new URL(E.action);K=b.some(q=>Q.hostname.endsWith(q))}if(K){Object.keys(E.formData).length>0&&this.stats.increment("sdk.form.submitted",E),this.email&&delete E.traits.email,Object.keys(E.traits).length>0&&this.identify(E.traits,{source:"form"});try{const Q=(B=(M=this.bootstrapData)==null?void 0:M.widget_settings)!=null?B:{},q=new URL(window.location.href),dt=Nt(q,Q.cta_href),Et=(0,xt.u)(q,"koala_track","1")||(0,xt.u)(q,"utm_source","koala")||(0,xt.u)(q,"utm_medium","koala");if(Q.enabled&&dt&&Et){const ht={type:"form",details:E};this.track("Koala Demo Booked",ht),this.stats.increment("sdk.demo.booked",ht)}}catch(Q){}}this.flush()})};var t;this.settings=e;const i=this.settings.project,d=this.deserialize();this.referrer=(t=d.r)!=null?t:document.referrer,this.user=X.E,this.session=bt.init(),this.qualification=d.q;const p=this.settings.a||d.a||{};this.edge=It(p),this.stats=new Be({flushInterval:1e3},i),this.eventQueue=new Ee({flushInterval:1e3},i),this.pageTracker=new Ke,this.pageTracker.on("page",b=>{this.edge.index(b);const E=()=>this.initialized&&Boolean(X.E.id()),M=()=>{const B=X.E.id();ve(i,B,[b])};E()?M():this.when(E).then(M)}),document.addEventListener("visibilitychange",()=>{document.hidden&&this.flush()}),e.hookSegment!==!1&&this.detectSegment(),this.detectRudder(),this.once("initialized",b=>{this.initialized=!0,this.bootstrapData=b,this.stats.increment("sdk.loaded",{page:window.location.pathname}),b.sdk_settings.form_collection!=="off"&&this.collectForms()})}async ready(e){return(0,At.A)(async()=>this.initialized||this.qualification?(e&&await e(),Promise.resolve(void 0)):new Promise(t=>{this.once("initialized",async()=>{e&&await e(),t(void 0)})}))}flush(){this.serialize(),this.stats.flush(),this.eventQueue.flush()}open(){this.emit("open")}close(){this.emit("close")}show(){this.emit("request-show")}hide(){this.emit("hide")}async mountWidget(e={}){if(!!this.bootstrapData)return Ht(this,{...this.bootstrapData,widget_settings:{...this.bootstrapData.widget_settings,enabled:!0,...e},project:this.settings.project})}get email(){return X.E.email()}detectSegment(){let e=0;this.when(()=>(e++,typeof window.analytics!="undefined"||e>=10),()=>{!window.analytics||window.analytics.ready(()=>{const t=window.analytics,i=t.user().traits();this.identify(i),t.on("invoke",()=>{const d=t.user().traits();this.identify(d)}),t.on("track",(d,p)=>{var b;((b=this.bootstrapData)==null?void 0:b.sdk_settings.segment_auto_track)!=="off"&&this.track(d,p)}),t.on("identify",(d,p)=>{this.identify(p)})})},100)}detectRudder(){let e=0;this.when(()=>(e++,typeof window.rudderanalytics!="undefined"||e>=10),()=>{!window.rudderanalytics||window.rudderanalytics.ready(()=>{var t;const i=window.rudderanalytics,d=i.getUserTraits(),p=(t=i.getGroupTraits())!=null?t:{};if(Object.keys(d).length>0){let b=d;Object.keys(p).length>0&&(b={...b,$account:p}),this.identify(b)}i.track=$t()(i.track,(b,...E)=>{const M=E[0],B=E[1];return typeof M=="string"&&this.track(M,B!=null?B:{}).catch(K=>{console.warn("KOALA",K)}),b(...E)}),i.identify=$t()(i.identify,(b,...E)=>{var M;const B=E[0],K=(M=E[1])!=null?M:{};return typeof B=="string"&&typeof K=="object"&&Object.keys(K).length>0&&this.identify(K).catch(Q=>{console.warn("KOALA",Q)}),b(...E)})})},1e3)}async track(e,t={}){this.eventQueue.track(e,t),this.edge.index({event:e,properties:t}),this.emit("track",e,t)}async identify(...e){let t={},i={};typeof e[0]=="string"?(t={...e[1]||{},email:e[0]},i=e[2]||{}):(t=e[0],i=e[1]||{}),!(!t||Object.keys(t).length===0)&&(this.eventQueue.identify(t,i),this.user.upsertTraits(t),this.edge.index(t),this.emit("identify",X.E.id(),t),await Promise.all([ge(this.settings.project,this.profile,i),Ye(new Promise(d=>this.once("qualification",d)),5e3)]))}subscribe(){this.when(()=>Boolean(X.E.id())).then(()=>{const e=X.E.id(),t=this.settings.project;this.unsubscribe();const i=(0,ye.C)(e,t);this.subscription=we(i,d=>{d.action==="score"&&this.updateQualification(d.data),d.action==="anonymous_profile"&&this.buildAnonymousProfile(d.data)})}).catch(e=>{console.warn("[KOALA]","Error subscribing to profile.",e)})}unsubscribe(){var e;(e=this.subscription)==null||e.unsubscribe(),this.subscription=null}buildAnonymousProfile(e){this.edge=It(e||{}),this.emit("profile-update")}updateQualification(e){const{profile_id:t,qualification:i,a:d}=e;this.qualification=i,this.emit("qualification",e),this.emit("change"),d&&this.buildAnonymousProfile(d),t!==X.E.id()&&(X.E.setId(t),this.emit("profile-id-update",t))}async qualify(e){try{e=e==null?void 0:e.trim(),e&&(this.user.upsertTraits({email:e}),this.edge.index({email:e}));const t=await pe(this.settings.project,this.profile);return this.updateQualification(t),t}catch(t){throw this.stats.increment("sdk.error",{method:"qualify",message:t==null?void 0:t.message}),t}}serialize(){const e={r:this.referrer,q:this.qualification,a:{b:this.edge.raw.bloom.toHash(),c:this.edge.raw.counts.toHash()}};window.localStorage.setItem("ka",JSON.stringify(e))}deserialize(){var e;const t=(e=window.localStorage.getItem("ka"))!=null?e:"{}";return JSON.parse(t)}get profile(){return{page_views:this.pageTracker.allPages(),user:this.user.userInfo(),referrer:this.referrer,events:this.eventQueue.events,email:this.user.traits().email,traits:this.user.traits(),qualification:this.qualification}}get e(){return this.edge.events}get p(){return this.edge.traits}get page(){return this.edge.page}get when(){return this.edge.when}}var Qe=r(3098),Ze=r(355);function Xe(n,e){n&&!n.playbooks&&(n.playbooks=e.playbooks);const t=tn(e);t.length!==0&&r.e(938).then(r.bind(r,8081)).then(async i=>{i.watchEvents(n,{...e,playbooks:t})}).catch(i=>{console.warn("[KOALA]","Failed to load playbooks",i),n.stats.increment("sdk.error",{method:"initPlaybooks",message:"Failed to load playbooks",error:i==null?void 0:i.message})})}function qe(){var n;return((n=window==null?void 0:window.location)==null?void 0:n.search)?{playbook:new URLSearchParams(window.location.search).get("_kop")}:{playbook:void 0}}function tn(n){const e=qe();return(n.playbooks||[]).map(i=>i.slug===e.playbook?{...i,enabled:!0}:i).filter(i=>i.enabled)}var en=r(5579);function nn(n){const e=Array.isArray(window.ko)&&window.ko[0]?[...window.ko]:[];for(const[t,...i]of e)typeof n[t]=="function"&&setTimeout(async()=>{try{await n[t].call(n,...i)}catch(d){console.warn(d)}},0)}function Ht(n,e){if(!e.widget_settings.enabled||!(0,en.D)(e))return;(on(e)?Promise.all([r.e(736),r.e(268),r.e(433)]).then(r.bind(r,6109)):Promise.all([r.e(736),r.e(268),r.e(348)]).then(r.bind(r,5709))).then(async d=>{var p;return n.widget=await((p=d.mountApp)==null?void 0:p.call(d,"koala-widget",{projectSlug:e.project,settings:e,collector:n})),n.widget}).catch(d=>{console.warn("[KOALA]","Failed to mount widget",d),n.stats.increment("sdk.error",{method:"mountApp",message:"Failed to mount widget",error:d==null?void 0:d.message})})}async function rn(n,e){try{const t=await(0,Qe.U)(n,e);return X.E.setId(t.profile_id),{...t,project:n}}catch(t){throw console.warn("[KOALA]","Failed to load project settings",t),t}}async function sn(n){var e;if(window.ko&&!Array.isArray(window.ko))return console.warn("[KOALA]","The Koala SDK is already loaded. Calling `load` again will have no effect."),window.ko;const t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.toLowerCase(),i=["googlebot","adsbot","headlesschrome","lighthouse","speedindex","vercelbot","hubspot","yandex","ahrefsbot","ev-crawl","sightbulb","slackbot","yahoo","bingbot","applebot","discordbot","baidu","screaming","pingdom"];if((navigator==null?void 0:navigator.webdriver)||i.some(b=>t==null?void 0:t.includes(b)))return window.ko;const d=await rn(n.project,X.E.id()),p=new Ve(n);return nn(p),p.emit("initialized",d),p.subscribe(),(d.playbooks||[]).length>0&&Xe(p,d),window.ko=p,p}function on(n){var e,t;const i=(0,Ze.h)(n,n.availability.agents[0]),d=(e=n.calendars)==null?void 0:e.find(b=>b.user_id===(i==null?void 0:i.id)&&b.url!==""&&Boolean(b.url)),p=d!=null?d:(t=n.calendars)==null?void 0:t[0];return n.widget_settings.mode==="demo"||n.widget_settings.mode==="chat"&&i===null&&p!==null}},9635:(a,f,r)=>{"use strict";r.d(f,{C:()=>G});var s={logger:self.console,WebSocket:self.WebSocket},o={log(...C){this.enabled&&(C.push(Date.now()),s.logger.log("[ActionCable]",...C))}};const c=()=>new Date().getTime(),l=C=>(c()-C)/1e3;class u{constructor(m){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=m,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=c(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),o.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=c(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),o.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=c()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,o.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=c(),o.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){const{staleThreshold:m,reconnectionBackoffRate:L}=this.constructor,W=Math.pow(1+L,Math.min(this.reconnectAttempts,10)),I=(this.reconnectAttempts===0?1:L)*Math.random();return m*1e3*W*(1+I)}reconnectIfStale(){this.connectionIsStale()&&(o.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${l(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?o.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${l(this.disconnectedAt)} s`):(o.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return l(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&l(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(o.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}}u.staleThreshold=6,u.reconnectionBackoffRate=.15;var h={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:g,protocols:v}=h,y=v.slice(0,v.length-1),w=[].indexOf;class x{constructor(m){this.open=this.open.bind(this),this.consumer=m,this.subscriptions=this.consumer.subscriptions,this.monitor=new u(this),this.disconnected=!0}send(m){return this.isOpen()?(this.webSocket.send(JSON.stringify(m)),!0):!1}open(){return this.isActive()?(o.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(o.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${v}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new s.WebSocket(this.consumer.url,v),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:m}={allowReconnect:!0}){if(m||this.monitor.stop(),this.isActive())return this.webSocket.close()}reopen(){if(o.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(m){o.log("Failed to reopen WebSocket",m)}finally{o.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return w.call(y,this.getProtocol())>=0}isState(...m){return w.call(m,this.getState())>=0}getState(){if(this.webSocket){for(let m in s.WebSocket)if(s.WebSocket[m]===this.webSocket.readyState)return m.toLowerCase()}return null}installEventHandlers(){for(let m in this.events){const L=this.events[m].bind(this);this.webSocket[`on${m}`]=L}}uninstallEventHandlers(){for(let m in this.events)this.webSocket[`on${m}`]=function(){}}}x.reopenDelay=500,x.prototype.events={message(C){if(!this.isProtocolSupported())return;const{identifier:m,message:L,reason:W,reconnect:k,type:I}=JSON.parse(C.data);switch(I){case g.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case g.disconnect:return o.log(`Disconnecting. Reason: ${W}`),this.close({allowReconnect:k});case g.ping:return this.monitor.recordPing();case g.confirmation:return this.subscriptions.confirmSubscription(m),this.subscriptions.notify(m,"connected");case g.rejection:return this.subscriptions.reject(m);default:return this.subscriptions.notify(m,"received",L)}},open(){if(o.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return o.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(C){if(o.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){o.log("WebSocket onerror event")}};const S=function(C,m){if(m!=null)for(let L in m){const W=m[L];C[L]=W}return C};class A{constructor(m,L={},W){this.consumer=m,this.identifier=JSON.stringify(L),S(this,W)}perform(m,L={}){return L.action=m,this.send(L)}send(m){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(m)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class T{constructor(m){this.subscriptions=m,this.pendingSubscriptions=[]}guarantee(m){this.pendingSubscriptions.indexOf(m)==-1?(o.log(`SubscriptionGuarantor guaranteeing ${m.identifier}`),this.pendingSubscriptions.push(m)):o.log(`SubscriptionGuarantor already guaranteeing ${m.identifier}`),this.startGuaranteeing()}forget(m){o.log(`SubscriptionGuarantor forgetting ${m.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(L=>L!==m)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(m=>{o.log(`SubscriptionGuarantor resubscribing ${m.identifier}`),this.subscriptions.subscribe(m)})},500)}}class O{constructor(m){this.consumer=m,this.guarantor=new T(this),this.subscriptions=[]}create(m,L){const W=m,k=typeof W=="object"?W:{channel:W},I=new A(this.consumer,k,L);return this.add(I)}add(m){return this.subscriptions.push(m),this.consumer.ensureActiveConnection(),this.notify(m,"initialized"),this.subscribe(m),m}remove(m){return this.forget(m),this.findAll(m.identifier).length||this.sendCommand(m,"unsubscribe"),m}reject(m){return this.findAll(m).map(L=>(this.forget(L),this.notify(L,"rejected"),L))}forget(m){return this.guarantor.forget(m),this.subscriptions=this.subscriptions.filter(L=>L!==m),m}findAll(m){return this.subscriptions.filter(L=>L.identifier===m)}reload(){return this.subscriptions.map(m=>this.subscribe(m))}notifyAll(m,...L){return this.subscriptions.map(W=>this.notify(W,m,...L))}notify(m,L,...W){let k;return typeof m=="string"?k=this.findAll(m):k=[m],k.map(I=>typeof I[L]=="function"?I[L](...W):void 0)}subscribe(m){this.sendCommand(m,"subscribe")&&this.guarantor.guarantee(m)}confirmSubscription(m){o.log(`Subscription confirmed ${m}`),this.findAll(m).map(L=>this.guarantor.forget(L))}sendCommand(m,L){const{identifier:W}=m;return this.consumer.send({command:L,identifier:W})}}class P{constructor(m){this._url=m,this.subscriptions=new O(this),this.connection=new x(this)}get url(){return F(this._url)}send(m){return this.connection.send(m)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}function F(C){if(typeof C=="function"&&(C=C()),C&&!/^wss?:/i.test(C)){const m=document.createElement("a");return m.href=C,m.href=m.href,m.protocol=m.protocol.replace("http","ws"),m.href}else return C}function N(C=U("url")||h.default_mount_path){return new P(C)}function U(C){const m=document.head.querySelector(`meta[name='action-cable-${C}']`);if(m)return m.getAttribute("content")}var _=r(7940);let R,J,H;const G=(C,m)=>((J!==m||H!==C)&&(R==null||R.disconnect(),R=void 0),R||(R=N(`${_._n.replace("https","wss")}/cable?profile_id=${C}&project_slug=${m}`),J=m,H=C),R);window.addEventListener("pagehide",()=>{R==null||R.disconnect()}),window.addEventListener("pageshow",()=>{R==null||R.connect()})},2998:(a,f,r)=>{"use strict";r.d(f,{A:()=>s});function s(o,c){return new Promise(l=>{const u=async()=>{o&&await o(),l()},h=c!=null?c:document;h.readyState==="complete"||h.readyState==="interactive"?setTimeout(u,0):h.addEventListener("DOMContentLoaded",u)})}},355:(a,f,r)=>{"use strict";r.d(f,{h:()=>s});function s(o,c){var l;return c?((l=o==null?void 0:o.widget_settings)==null?void 0:l.custom_agent)?{...c,...o.widget_settings.custom_agent}:c:null}},4221:(a,f,r)=>{"use strict";r.d(f,{h:()=>s,u:()=>o});function s(c,l={}){var u,h;const g=new URL(c);return g.searchParams.has("utm_source")||g.searchParams.set("utm_source",(u=l.source)!=null?u:"koala"),g.searchParams.has("utm_medium")||g.searchParams.set("utm_medium",(h=l.medium)!=null?h:"widget"),g.searchParams.set("koala_track","1"),g.toString()}function o(c,l,u=""){return new URL(c).searchParams.get(l)===u}},5579:(a,f,r)=>{"use strict";r.d(f,{D:()=>o});function s(c){if(typeof c!="string")return!1;try{return new URL(c.startsWith("http")?c:`https://${c}`),!0}catch(l){return!1}}function o(c){var l;const u=((l=c.channel_settings)!=null?l:[]).filter(h=>{var g,v;return h.channel==="resources"&&!((g=c.resources)==null?void 0:g.length)||h.channel==="calendar"&&!((v=c.calendars)==null?void 0:v.length)?!1:h.enabled}).map(h=>h.channel);return c.widget_settings.mode==="chat"?u.length>0:c.widget_settings.mode==="demo"?s(c.widget_settings.cta_href)||u.includes("calendar"):!1}},9865:()=>{(function(a){if(typeof a.requestSubmit=="function")return;a.requestSubmit=function(s){s?(f(s,this),s.click()):(s=document.createElement("input"),s.type="submit",s.hidden=!0,this.appendChild(s),s.click(),this.removeChild(s))};function f(s,o){s instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),s.type=="submit"||r(TypeError,"The specified element is not a submit button"),s.form==o||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(s,o,c){throw new s("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+o+".",c)}})(HTMLFormElement.prototype)},6425:(a,f,r)=>{var s=r(3118),o=r(9435),c=4294967295;function l(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=c,this.__views__=[]}l.prototype=s(o.prototype),l.prototype.constructor=l,a.exports=l},7548:(a,f,r)=>{var s=r(3118),o=r(9435);function c(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}c.prototype=s(o.prototype),c.prototype.constructor=c,a.exports=c},2705:(a,f,r)=>{var s=r(5639),o=s.Symbol;a.exports=o},577:(a,f,r)=>{var s=r(852),o=r(5639),c=s(o,"WeakMap");a.exports=c},6874:a=>{function f(r,s,o){switch(o.length){case 0:return r.call(s);case 1:return r.call(s,o[0]);case 2:return r.call(s,o[0],o[1]);case 3:return r.call(s,o[0],o[1],o[2])}return r.apply(s,o)}a.exports=f},7412:a=>{function f(r,s){for(var o=-1,c=r==null?0:r.length;++o<c&&s(r[o],o,r)!==!1;);return r}a.exports=f},7443:(a,f,r)=>{var s=r(2118);function o(c,l){var u=c==null?0:c.length;return!!u&&s(c,l,0)>-1}a.exports=o},3118:(a,f,r)=>{var s=r(3218),o=Object.create,c=function(){function l(){}return function(u){if(!s(u))return{};if(o)return o(u);l.prototype=u;var h=new l;return l.prototype=void 0,h}}();a.exports=c},1848:a=>{function f(r,s,o,c){for(var l=r.length,u=o+(c?1:-1);c?u--:++u<l;)if(s(r[u],u,r))return u;return-1}a.exports=f},4239:(a,f,r)=>{var s=r(2705),o=r(9607),c=r(2333),l="[object Null]",u="[object Undefined]",h=s?s.toStringTag:void 0;function g(v){return v==null?v===void 0?u:l:h&&h in Object(v)?o(v):c(v)}a.exports=g},2118:(a,f,r)=>{var s=r(1848),o=r(2722),c=r(2351);function l(u,h,g){return h===h?c(u,h,g):s(u,o,g)}a.exports=l},2722:a=>{function f(r){return r!==r}a.exports=f},8458:(a,f,r)=>{var s=r(3560),o=r(5346),c=r(3218),l=r(346),u=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,g=Function.prototype,v=Object.prototype,y=g.toString,w=v.hasOwnProperty,x=RegExp("^"+y.call(w).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S(A){if(!c(A)||o(A))return!1;var T=s(A)?x:h;return T.test(l(A))}a.exports=S},9435:a=>{function f(){}a.exports=f},5976:(a,f,r)=>{var s=r(6557),o=r(5357),c=r(61);function l(u,h){return c(o(u,h,s),u+"")}a.exports=l},8045:(a,f,r)=>{var s=r(6557),o=r(9250),c=o?function(l,u){return o.set(l,u),l}:s;a.exports=c},6560:(a,f,r)=>{var s=r(5703),o=r(8777),c=r(6557),l=o?function(u,h){return o(u,"toString",{configurable:!0,enumerable:!1,value:s(h),writable:!0})}:c;a.exports=l},7561:(a,f,r)=>{var s=r(7990),o=/^\s+/;function c(l){return l&&l.slice(0,s(l)+1).replace(o,"")}a.exports=c},4290:(a,f,r)=>{var s=r(6557);function o(c){return typeof c=="function"?c:s}a.exports=o},2157:a=>{var f=Math.max;function r(s,o,c,l){for(var u=-1,h=s.length,g=c.length,v=-1,y=o.length,w=f(h-g,0),x=Array(y+w),S=!l;++v<y;)x[v]=o[v];for(;++u<g;)(S||u<h)&&(x[c[u]]=s[u]);for(;w--;)x[v++]=s[u++];return x}a.exports=r},4054:a=>{var f=Math.max;function r(s,o,c,l){for(var u=-1,h=s.length,g=-1,v=c.length,y=-1,w=o.length,x=f(h-v,0),S=Array(x+w),A=!l;++u<x;)S[u]=s[u];for(var T=u;++y<w;)S[T+y]=o[y];for(;++g<v;)(A||u<h)&&(S[T+c[g]]=s[u++]);return S}a.exports=r},278:a=>{function f(r,s){var o=-1,c=r.length;for(s||(s=Array(c));++o<c;)s[o]=r[o];return s}a.exports=f},4429:(a,f,r)=>{var s=r(5639),o=s["__core-js_shared__"];a.exports=o},7991:a=>{function f(r,s){for(var o=r.length,c=0;o--;)r[o]===s&&++c;return c}a.exports=f},2402:(a,f,r)=>{var s=r(1774),o=r(5639),c=1;function l(u,h,g){var v=h&c,y=s(u);function w(){var x=this&&this!==o&&this instanceof w?y:u;return x.apply(v?g:this,arguments)}return w}a.exports=l},1774:(a,f,r)=>{var s=r(3118),o=r(3218);function c(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=s(l.prototype),g=l.apply(h,u);return o(g)?g:h}}a.exports=c},6347:(a,f,r)=>{var s=r(6874),o=r(1774),c=r(6935),l=r(4487),u=r(893),h=r(6460),g=r(5639);function v(y,w,x){var S=o(y);function A(){for(var T=arguments.length,O=Array(T),P=T,F=u(A);P--;)O[P]=arguments[P];var N=T<3&&O[0]!==F&&O[T-1]!==F?[]:h(O,F);if(T-=N.length,T<x)return l(y,w,c,A.placeholder,void 0,O,N,void 0,void 0,x-T);var U=this&&this!==g&&this instanceof A?S:y;return s(U,this,O)}return A}a.exports=v},6935:(a,f,r)=>{var s=r(2157),o=r(4054),c=r(7991),l=r(1774),u=r(4487),h=r(893),g=r(451),v=r(6460),y=r(5639),w=1,x=2,S=8,A=16,T=128,O=512;function P(F,N,U,_,R,J,H,G,C,m){var L=N&T,W=N&w,k=N&x,I=N&(S|A),$=N&O,Z=k?void 0:l(F);function D(){for(var Y=arguments.length,z=Array(Y),nt=Y;nt--;)z[nt]=arguments[nt];if(I)var ot=h(D),pt=c(z,ot);if(_&&(z=s(z,_,R,I)),J&&(z=o(z,J,H,I)),Y-=pt,I&&Y<m){var gt=v(z,ot);return u(F,N,P,D.placeholder,U,z,gt,G,C,m-Y)}var tt=W?U:this,et=k?tt[F]:F;return Y=z.length,G?z=g(z,G):$&&Y>1&&z.reverse(),L&&C<Y&&(z.length=C),this&&this!==y&&this instanceof D&&(et=Z||l(et)),et.apply(tt,z)}return D}a.exports=P},4375:(a,f,r)=>{var s=r(6874),o=r(1774),c=r(5639),l=1;function u(h,g,v,y){var w=g&l,x=o(h);function S(){for(var A=-1,T=arguments.length,O=-1,P=y.length,F=Array(P+T),N=this&&this!==c&&this instanceof S?x:h;++O<P;)F[O]=y[O];for(;T--;)F[O++]=arguments[++A];return s(N,w?v:this,F)}return S}a.exports=u},4487:(a,f,r)=>{var s=r(6528),o=r(258),c=r(9255),l=1,u=2,h=4,g=8,v=32,y=64;function w(x,S,A,T,O,P,F,N,U,_){var R=S&g,J=R?F:void 0,H=R?void 0:F,G=R?P:void 0,C=R?void 0:P;S|=R?v:y,S&=~(R?y:v),S&h||(S&=~(l|u));var m=[x,S,O,G,J,C,H,N,U,_],L=A.apply(void 0,m);return s(x)&&o(L,m),L.placeholder=T,c(L,x,S)}a.exports=w},7727:(a,f,r)=>{var s=r(8045),o=r(2402),c=r(6347),l=r(6935),u=r(4375),h=r(6833),g=r(3833),v=r(258),y=r(9255),w=r(554),x="Expected a function",S=1,A=2,T=8,O=16,P=32,F=64,N=Math.max;function U(_,R,J,H,G,C,m,L){var W=R&A;if(!W&&typeof _!="function")throw new TypeError(x);var k=H?H.length:0;if(k||(R&=~(P|F),H=G=void 0),m=m===void 0?m:N(w(m),0),L=L===void 0?L:w(L),k-=G?G.length:0,R&F){var I=H,$=G;H=G=void 0}var Z=W?void 0:h(_),D=[_,R,J,H,G,I,$,C,m,L];if(Z&&g(D,Z),_=D[0],R=D[1],J=D[2],H=D[3],G=D[4],L=D[9]=D[9]===void 0?W?0:_.length:N(D[9]-k,0),!L&&R&(T|O)&&(R&=~(T|O)),!R||R==S)var Y=o(_,R,J);else R==T||R==O?Y=c(_,R,L):(R==P||R==(S|P))&&!G.length?Y=u(_,R,J,H):Y=l.apply(void 0,D);var z=Z?s:v;return y(z(Y,D),_,R)}a.exports=U},8777:(a,f,r)=>{var s=r(852),o=function(){try{var c=s(Object,"defineProperty");return c({},"",{}),c}catch(l){}}();a.exports=o},1957:(a,f,r)=>{var s=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g;a.exports=s},6833:(a,f,r)=>{var s=r(9250),o=r(308),c=s?function(l){return s.get(l)}:o;a.exports=c},7658:(a,f,r)=>{var s=r(2060),o=Object.prototype,c=o.hasOwnProperty;function l(u){for(var h=u.name+"",g=s[h],v=c.call(s,h)?g.length:0;v--;){var y=g[v],w=y.func;if(w==null||w==u)return y.name}return h}a.exports=l},893:a=>{function f(r){var s=r;return s.placeholder}a.exports=f},852:(a,f,r)=>{var s=r(8458),o=r(7801);function c(l,u){var h=o(l,u);return s(h)?h:void 0}a.exports=c},9607:(a,f,r)=>{var s=r(2705),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,u=s?s.toStringTag:void 0;function h(g){var v=c.call(g,u),y=g[u];try{g[u]=void 0;var w=!0}catch(S){}var x=l.call(g);return w&&(v?g[u]=y:delete g[u]),x}a.exports=h},7801:a=>{function f(r,s){return r==null?void 0:r[s]}a.exports=f},8775:a=>{var f=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;function s(o){var c=o.match(f);return c?c[1].split(r):[]}a.exports=s},3112:a=>{var f=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function r(s,o){var c=o.length;if(!c)return s;var l=c-1;return o[l]=(c>1?"& ":"")+o[l],o=o.join(c>2?", ":" "),s.replace(f,`{
/* [wrapped with `+o+`] */
`)}a.exports=r},5776:a=>{var f=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function s(o,c){var l=typeof o;return c=c==null?f:c,!!c&&(l=="number"||l!="symbol"&&r.test(o))&&o>-1&&o%1==0&&o<c}a.exports=s},6528:(a,f,r)=>{var s=r(6425),o=r(6833),c=r(7658),l=r(8111);function u(h){var g=c(h),v=l[g];if(typeof v!="function"||!(g in s.prototype))return!1;if(h===v)return!0;var y=o(v);return!!y&&h===y[0]}a.exports=u},5346:(a,f,r)=>{var s=r(4429),o=function(){var l=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function c(l){return!!o&&o in l}a.exports=c},3833:(a,f,r)=>{var s=r(2157),o=r(4054),c=r(6460),l="__lodash_placeholder__",u=1,h=2,g=4,v=8,y=128,w=256,x=Math.min;function S(A,T){var O=A[1],P=T[1],F=O|P,N=F<(u|h|y),U=P==y&&O==v||P==y&&O==w&&A[7].length<=T[8]||P==(y|w)&&T[7].length<=T[8]&&O==v;if(!(N||U))return A;P&u&&(A[2]=T[2],F|=O&u?0:g);var _=T[3];if(_){var R=A[3];A[3]=R?s(R,_,T[4]):_,A[4]=R?c(A[3],l):T[4]}return _=T[5],_&&(R=A[5],A[5]=R?o(R,_,T[6]):_,A[6]=R?c(A[5],l):T[6]),_=T[7],_&&(A[7]=_),P&y&&(A[8]=A[8]==null?T[8]:x(A[8],T[8])),A[9]==null&&(A[9]=T[9]),A[0]=T[0],A[1]=F,A}a.exports=S},9250:(a,f,r)=>{var s=r(577),o=s&&new s;a.exports=o},2333:a=>{var f=Object.prototype,r=f.toString;function s(o){return r.call(o)}a.exports=s},5357:(a,f,r)=>{var s=r(6874),o=Math.max;function c(l,u,h){return u=o(u===void 0?l.length-1:u,0),function(){for(var g=arguments,v=-1,y=o(g.length-u,0),w=Array(y);++v<y;)w[v]=g[u+v];v=-1;for(var x=Array(u+1);++v<u;)x[v]=g[v];return x[u]=h(w),s(l,this,x)}}a.exports=c},2060:a=>{var f={};a.exports=f},451:(a,f,r)=>{var s=r(278),o=r(5776),c=Math.min;function l(u,h){for(var g=u.length,v=c(h.length,g),y=s(u);v--;){var w=h[v];u[v]=o(w,g)?y[w]:void 0}return u}a.exports=l},6460:a=>{var f="__lodash_placeholder__";function r(s,o){for(var c=-1,l=s.length,u=0,h=[];++c<l;){var g=s[c];(g===o||g===f)&&(s[c]=f,h[u++]=c)}return h}a.exports=r},5639:(a,f,r)=>{var s=r(1957),o=typeof self=="object"&&self&&self.Object===Object&&self,c=s||o||Function("return this")();a.exports=c},258:(a,f,r)=>{var s=r(8045),o=r(1275),c=o(s);a.exports=c},61:(a,f,r)=>{var s=r(6560),o=r(1275),c=o(s);a.exports=c},9255:(a,f,r)=>{var s=r(8775),o=r(3112),c=r(61),l=r(7241);function u(h,g,v){var y=g+"";return c(h,o(y,l(s(y),v)))}a.exports=u},1275:a=>{var f=800,r=16,s=Date.now;function o(c){var l=0,u=0;return function(){var h=s(),g=r-(h-u);if(u=h,g>0){if(++l>=f)return arguments[0]}else l=0;return c.apply(void 0,arguments)}}a.exports=o},2351:a=>{function f(r,s,o){for(var c=o-1,l=r.length;++c<l;)if(r[c]===s)return c;return-1}a.exports=f},346:a=>{var f=Function.prototype,r=f.toString;function s(o){if(o!=null){try{return r.call(o)}catch(c){}try{return o+""}catch(c){}}return""}a.exports=s},7990:a=>{var f=/\s/;function r(s){for(var o=s.length;o--&&f.test(s.charAt(o)););return o}a.exports=r},7241:(a,f,r)=>{var s=r(7412),o=r(7443),c=1,l=2,u=8,h=16,g=32,v=64,y=128,w=256,x=512,S=[["ary",y],["bind",c],["bindKey",l],["curry",u],["curryRight",h],["flip",x],["partial",g],["partialRight",v],["rearg",w]];function A(T,O){return s(S,function(P){var F="_."+P[0];O&P[1]&&!o(T,F)&&T.push(F)}),T.sort()}a.exports=A},1913:(a,f,r)=>{var s=r(6425),o=r(7548),c=r(278);function l(u){if(u instanceof s)return u.clone();var h=new o(u.__wrapped__,u.__chain__);return h.__actions__=c(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}a.exports=l},5703:a=>{function f(r){return function(){return r}}a.exports=f},3279:(a,f,r)=>{var s=r(3218),o=r(7771),c=r(4841),l="Expected a function",u=Math.max,h=Math.min;function g(v,y,w){var x,S,A,T,O,P,F=0,N=!1,U=!1,_=!0;if(typeof v!="function")throw new TypeError(l);y=c(y)||0,s(w)&&(N=!!w.leading,U="maxWait"in w,A=U?u(c(w.maxWait)||0,y):A,_="trailing"in w?!!w.trailing:_);function R(I){var $=x,Z=S;return x=S=void 0,F=I,T=v.apply(Z,$),T}function J(I){return F=I,O=setTimeout(C,y),N?R(I):T}function H(I){var $=I-P,Z=I-F,D=y-$;return U?h(D,A-Z):D}function G(I){var $=I-P,Z=I-F;return P===void 0||$>=y||$<0||U&&Z>=A}function C(){var I=o();if(G(I))return m(I);O=setTimeout(C,H(I))}function m(I){return O=void 0,_&&x?R(I):(x=S=void 0,T)}function L(){O!==void 0&&clearTimeout(O),F=0,x=P=S=O=void 0}function W(){return O===void 0?T:m(o())}function k(){var I=o(),$=G(I);if(x=arguments,S=this,P=I,$){if(O===void 0)return J(P);if(U)return clearTimeout(O),O=setTimeout(C,y),R(P)}return O===void 0&&(O=setTimeout(C,y)),T}return k.cancel=L,k.flush=W,k}a.exports=g},6557:a=>{function f(r){return r}a.exports=f},1469:a=>{var f=Array.isArray;a.exports=f},3560:(a,f,r)=>{var s=r(4239),o=r(3218),c="[object AsyncFunction]",l="[object Function]",u="[object GeneratorFunction]",h="[object Proxy]";function g(v){if(!o(v))return!1;var y=s(v);return y==l||y==u||y==c||y==h}a.exports=g},3218:a=>{function f(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}a.exports=f},7005:a=>{function f(r){return r!=null&&typeof r=="object"}a.exports=f},3448:(a,f,r)=>{var s=r(4239),o=r(7005),c="[object Symbol]";function l(u){return typeof u=="symbol"||o(u)&&s(u)==c}a.exports=l},308:a=>{function f(){}a.exports=f},7771:(a,f,r)=>{var s=r(5639),o=function(){return s.Date.now()};a.exports=o},3131:(a,f,r)=>{var s=r(5976),o=r(7727),c=r(893),l=r(6460),u=32,h=s(function(g,v){var y=l(v,c(h));return o(g,u,void 0,v,y)});h.placeholder={},a.exports=h},3493:(a,f,r)=>{var s=r(3279),o=r(3218),c="Expected a function";function l(u,h,g){var v=!0,y=!0;if(typeof u!="function")throw new TypeError(c);return o(g)&&(v="leading"in g?!!g.leading:v,y="trailing"in g?!!g.trailing:y),s(u,h,{leading:v,maxWait:h,trailing:y})}a.exports=l},8601:(a,f,r)=>{var s=r(4841),o=1/0,c=17976931348623157e292;function l(u){if(!u)return u===0?u:0;if(u=s(u),u===o||u===-o){var h=u<0?-1:1;return h*c}return u===u?u:0}a.exports=l},554:(a,f,r)=>{var s=r(8601);function o(c){var l=s(c),u=l%1;return l===l?u?l-u:l:0}a.exports=o},4841:(a,f,r)=>{var s=r(7561),o=r(3218),c=r(3448),l=0/0,u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,g=/^0o[0-7]+$/i,v=parseInt;function y(w){if(typeof w=="number")return w;if(c(w))return l;if(o(w)){var x=typeof w.valueOf=="function"?w.valueOf():w;w=o(x)?x+"":x}if(typeof w!="string")return w===0?w:+w;w=s(w);var S=h.test(w);return S||g.test(w)?v(w.slice(2),S?2:8):u.test(w)?l:+w}a.exports=y},359:(a,f,r)=>{var s=r(4290),o=r(3131);function c(l,u){return o(s(u),l)}a.exports=c},8111:(a,f,r)=>{var s=r(6425),o=r(7548),c=r(9435),l=r(1469),u=r(7005),h=r(1913),g=Object.prototype,v=g.hasOwnProperty;function y(w){if(u(w)&&!l(w)&&!(w instanceof s)){if(w instanceof o)return w;if(v.call(w,"__wrapped__"))return h(w)}return new o(w)}y.prototype=c.prototype,y.prototype.constructor=y,a.exports=y},1955:(a,f,r)=>{"use strict";r.d(f,{Z:()=>u});/*! js-cookie v3.0.1 | MIT */function s(h){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var y in v)h[y]=v[y]}return h}var o={read:function(h){return h[0]==='"'&&(h=h.slice(1,-1)),h.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(h){return encodeURIComponent(h).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function c(h,g){function v(w,x,S){if(typeof document!="undefined"){S=s({},g,S),typeof S.expires=="number"&&(S.expires=new Date(Date.now()+S.expires*864e5)),S.expires&&(S.expires=S.expires.toUTCString()),w=encodeURIComponent(w).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var A="";for(var T in S)!S[T]||(A+="; "+T,S[T]!==!0&&(A+="="+S[T].split(";")[0]));return document.cookie=w+"="+h.write(x,w)+A}}function y(w){if(!(typeof document=="undefined"||arguments.length&&!w)){for(var x=document.cookie?document.cookie.split("; "):[],S={},A=0;A<x.length;A++){var T=x[A].split("="),O=T.slice(1).join("=");try{var P=decodeURIComponent(T[0]);if(S[P]=h.read(O,P),w===P)break}catch(F){}}return w?S[w]:S}}return Object.create({set:v,get:y,remove:function(w,x){v(w,"",s({},x,{expires:-1}))},withAttributes:function(w){return c(this.converter,s({},this.attributes,w))},withConverter:function(w){return c(s({},this.converter,w),this.attributes)}},{attributes:{value:Object.freeze(g)},converter:{value:Object.freeze(h)}})}var l=c(o,{path:"/"});const u=l}},Ot={};function j(a){var f=Ot[a];if(f!==void 0)return f.exports;var r=Ot[a]={id:a,loaded:!1,exports:{}};return Lt[a](r,r.exports,j),r.loaded=!0,r.exports}j.m=Lt,j.amdO={},j.n=a=>{var f=a&&a.__esModule?()=>a.default:()=>a;return j.d(f,{a:f}),f},j.d=(a,f)=>{for(var r in f)j.o(f,r)&&!j.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:f[r]})},j.f={},j.e=a=>Promise.all(Object.keys(j.f).reduce((f,r)=>(j.f[r](a,f),f),[])),j.u=a=>"sdk."+({"348":"chat","433":"demos","736":"vendor","938":"playbooks"}[a]||a)+"."+{"268":"d03f25e6204292ad","348":"d9f43af37bef6775","433":"9d255eb671c27a86","736":"ae6e60b4ce7b225d","938":"5d7a21cd93953d7d"}[a]+".js",j.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}(),j.o=(a,f)=>Object.prototype.hasOwnProperty.call(a,f),(()=>{var a={},f="@getkoala/browser:";j.l=(r,s,o,c)=>{if(a[r]){a[r].push(s);return}var l,u;if(o!==void 0)for(var h=document.getElementsByTagName("script"),g=0;g<h.length;g++){var v=h[g];if(v.getAttribute("src")==r||v.getAttribute("data-webpack")==f+o){l=v;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,j.nc&&l.setAttribute("nonce",j.nc),l.setAttribute("data-webpack",f+o),l.src=r),a[r]=[s];var y=(x,S)=>{l.onerror=l.onload=null,clearTimeout(w);var A=a[r];if(delete a[r],l.parentNode&&l.parentNode.removeChild(l),A&&A.forEach(T=>T(S)),x)return x(S)},w=setTimeout(y.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=y.bind(null,l.onerror),l.onload=y.bind(null,l.onload),u&&document.head.appendChild(l)}})(),j.r=a=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},j.nmd=a=>(a.paths=[],a.children||(a.children=[]),a),(()=>{var a;j.g.importScripts&&(a=j.g.location+"");var f=j.g.document;if(!a&&f&&(f.currentScript&&(a=f.currentScript.src),!a)){var r=f.getElementsByTagName("script");r.length&&(a=r[r.length-1].src)}if(!a)throw new Error("Automatic publicPath is not supported in this browser");a=a.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),j.p=a})(),(()=>{var a={630:0,608:0};j.f.j=(s,o)=>{var c=j.o(a,s)?a[s]:void 0;if(c!==0)if(c)o.push(c[2]);else{var l=new Promise((v,y)=>c=a[s]=[v,y]);o.push(c[2]=l);var u=j.p+j.u(s),h=new Error,g=v=>{if(j.o(a,s)&&(c=a[s],c!==0&&(a[s]=void 0),c)){var y=v&&(v.type==="load"?"missing":v.type),w=v&&v.target&&v.target.src;h.message="Loading chunk "+s+` failed.
(`+y+": "+w+")",h.name="ChunkLoadError",h.type=y,h.request=w,c[1](h)}};j.l(u,g,"chunk-"+s,s)}};var f=(s,o)=>{var[c,l,u]=o,h,g,v=0;if(c.some(w=>a[w]!==0)){for(h in l)j.o(l,h)&&(j.m[h]=l[h]);if(u)var y=u(j)}for(s&&s(o);v<c.length;v++)g=c[v],j.o(a,g)&&a[g]&&a[g][0](),a[g]=0},r=self.webpackChunk_getkoala_browser=self.webpackChunk_getkoala_browser||[];r.forEach(f.bind(null,0)),r.push=f.bind(null,r.push.bind(r))})();var ft={};(()=>{"use strict";j.r(ft),j.d(ft,{load:()=>a.load});var a=j(9935);function f(){var s,o,c;let l=(s=document.currentScript)==null?void 0:s.getAttribute("data-project");if(!l){const[u,h]=((c=(o=document.currentScript)==null?void 0:o.getAttribute("src"))!=null?c:"").split("/").reverse();l=h}return l}async function r(){const s=f();if(!s){console.error("Koala SDK: Missing required project attribute.");return}try{window.ko=await a.load({project:s})}catch(o){console.error("[KOALA]","Failed to load the Koala SDK.",o)}}r()})(),window.KoalaSDK=ft})();

//# sourceMappingURL=sdk.js.map